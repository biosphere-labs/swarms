---
name: ResultAggregator — Output merging and contradiction detection
status: closed
created: 2026-02-11T21:01:30Z
updated: 2026-02-11T21:01:30Z
depends_on: []
parallel: true
conflicts_with: []
---

# Task: ResultAggregator — Output merging and contradiction detection

## Description
Implement the ResultAggregator that merges outputs from multiple sub-agents, cross-references results, flags contradictions, and identifies gaps that may need additional work.

## Acceptance Criteria
- [ ] ResultAggregator class with `aggregate(results: List[StructuredResult], original_task: str) -> AggregatedOutput` method
- [ ] LLM-based synthesis: merge sub-agent outputs into coherent final answer
- [ ] Contradiction detection: flag when sub-agents return conflicting information
- [ ] Gap identification: detect when sub-tasks didn't fully cover the original task
- [ ] AggregatedOutput includes: synthesized_answer, contradictions (list), gaps (list), confidence
- [ ] Configurable model for the synthesis LLM call

## Technical Details
- File: `swarms/structs/result_aggregator.py`
- Uses LiteLLM for synthesis LLM call
- Contradiction detection: LLM-based comparison of overlapping claims between sub-agent outputs
- Gap detection: compare original task requirements against covered sub-task outputs
- AggregatedOutput: Pydantic model with synthesized_answer, contradictions, gaps, confidence, metadata
- Contradictions are surfaced explicitly in output (never silently resolved)

## Dependencies
- [ ] None (standalone module, uses only LiteLLM)

## Effort Estimate
- Size: L
- Hours: 8-12
- Parallel: true (no dependencies on other new modules)

## Definition of Done
- [ ] Code implemented
- [ ] Unit tests written and passing
- [ ] Correctly merges non-conflicting results
- [ ] Detects and surfaces contradictions
- [ ] Identifies coverage gaps
