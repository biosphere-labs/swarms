---
name: Tests — Unit tests for each new module
status: open
created: 2026-02-11T21:01:30Z
updated: 2026-02-11T21:01:30Z
depends_on: [006, 007]
parallel: true
conflicts_with: []
---

# Task: Tests — Unit tests for each new module

## Description
Write unit and integration tests for all new PARL orchestrator modules.

## Acceptance Criteria
- [ ] `tests/test_decomposition_engine.py` — Tests for task decomposition logic and heuristics
- [ ] `tests/test_context_sharding.py` — Tests for context isolation and result collection
- [ ] `tests/test_critical_path_scheduler.py` — Tests for DAG scheduling, critical path, parallel grouping
- [ ] `tests/test_result_aggregator.py` — Tests for result merging, contradiction detection, gap identification
- [ ] `tests/test_parl_orchestrator.py` — Integration tests for full orchestration flow
- [ ] All tests pass
- [ ] Edge cases covered: empty inputs, single tasks, circular dependencies, sub-agent failures

## Technical Details
- Test directory: `tests/`
- Follow existing test patterns in the framework
- Use pytest (framework's test runner)
- For LLM-dependent tests: test with real calls where feasible, mock only expensive external calls
- CriticalPathScheduler tests should use pure unit tests (no LLM needed — just graph operations)
- Focus on integration tests over mocked unit tests per project testing philosophy

## Dependencies
- [ ] 006 - PARLOrchestrator (for integration tests)
- [ ] 007 - SwarmRouter integration (for router tests)

## Effort Estimate
- Size: L
- Hours: 8-12
- Parallel: true (can be written alongside examples)

## Definition of Done
- [ ] All test files created
- [ ] All tests pass
- [ ] Edge cases covered
- [ ] No regressions in existing framework tests
